<!doctype html>
<html>
<head>
	<meta http-equiv="charset" content="text/html; charset=utf-8">
	<!-- needed because VML performance in IE8 is abysmal -->
	<meta http-equiv="X-UA-Compatible" content="IE=7">
	<title>Whiteboard demo (dev) | BrowserNode</title>
	<style>
		{{ getTestPageCSS() }}
	</style>
	<link rel="stylesheet" type="text/css" href="static/whiteboard.css">
</head>
<body>
<!-- note: this file is mostly a copy/paste of rtsgame.html -->

<div id="whiteboard">
<div id="whiteboard-doc">
<div id="demo-header"><b>Whiteboard demo</b></div><br>
This page supports options ?mode=http, ?mode=flash, ?useSub=0, ?useSub=1,
?httpStreaming=1, ?logging=1 (which can be combined).<br><br>

TODO: fix this for Opera/IE (and maybe other browsers): right now, when
you click on a circle, the circle captures the click, the event bubbles up,
and the offsetX/offsetY is wrong (they're both close to 0).  If we instead
layer a div over the drawing area, it should get the correct offsets.
</div>

<script>
// Use just one preamble <script> to reduce page load time.

// We don't define anything on "window" to avoid possible IE stack limit of 12
// when calling through window.
CSRF_TOKEN = {{ dumps(token) }};
__XDRSetup = {
	dev: true,
	domain: {{ dumps(domain) }},
	sub1: {{ dumps(sub1) }},
	sub2: {{ dumps(sub2) }}
};
</script>
<!-- Note: in production, this script should be dumped onto the page. -->
<div id="minerva-xdrframes"></div>
<script src="/JSPATH/cw/net/bootstrap_XDRSetup.js"></script>

<div id="whiteboard-controls-left"></div>
<div id="whiteboard-controls-right"></div>
<br class="clearer">
<div id="drawAreaContainer">
	<div id="drawAreaOverlay"></div>
	<div id="drawArea"></div>
</div>
</div>
<div id="FlashConnectorSwf"></div>
<div id="log"></div>

<script>CLOSURE_NO_DEPS = true;</script>
<script src="/JSPATH/closure/goog/base.js"></script>
<script src="/JSPATH/all_deps.js"></script>
<script>
goog.require('whiteboard');
</script>
<script>
whiteboard.init();
</script>

</body>
</html>
