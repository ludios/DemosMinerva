<!doctype html>
<html>
<head>
	<meta http-equiv="charset" content="text/html; charset=utf-8">
	<title></title>
	<style>
		{{ getTestPageCSS() }}

		#minerva-xdrframes iframe {
			width: 1px;
			height: 1px;
			border: 0;
		}
	</style>
</head>
<body>

<div id="doc">
This page supports options ?mode=http, ?mode=flash, ?useSub=0, ?useSub=1, ?httpStreaming=1, ?log=1
(which can be combined).
</div>

<table id="controls">
<tr>
	<td>Reconnect:</td>
	<td>
		<input type="submit" value="Reset" onclick="forum.resetStream('because user clicked button');return false">
		<input type="submit" value="Reset and connect new stream" onclick="forum.reconnectStream();return false">
	</td>
</tr>
<tr>
<td>
	Send text:
</td>
<td>
	<input type="text" name="textinput" id="textinput">
	<input type="submit" value="Send" onclick="__forum_sendText(document.getElementById('textinput').value);return false">
</td>
</tr>
</table>

<div id="minerva-xdrframes"></div>
<div id="forum"></div>
<div id="log"></div>

<script>
// Use just one preamble <script> to reduce page load time.

// We don't define anything on "window" to avoid possible IE stack limit of 12
// when calling through window.
CSRF_TOKEN = {{ dumps(token) }};
__XDRSetup = {
	dev: false,
	domain: {{ dumps(domain) }},
	sub1: {{ dumps(sub1) }},
	sub2: {{ dumps(sub2) }}
};
{{ bootstrap_XDRSetup_contents }}
</script>

<script src="/compiled/forum.js"></script>
<script>
__forum_init();
</script>

</body>
</html>
