<!doctype html>
<html>
<head>
	<meta http-equiv="charset" content="text/html; charset=utf-8">
	<!-- needed because VML performance in IE8 is abysmal -->
	<meta http-equiv="X-UA-Compatible" content="IE=7">
	<title>Whiteboard demo | BrowserNode</title>
	<style>
		#minerva-xdrframes iframe {
			width: 1px;
			height: 1px;
			border: 0;
		}
	</style>
	<link rel="stylesheet" type="text/css" href="static/whiteboard.css">
</head>
<body>
<div id="whiteboard-container">
<div id="whiteboard-doc">
<div id="demo-header"><b>Whiteboard demo</b></div>

<p>
Click on the whiteboard below to add colored points.  The state of the whiteboard
is instantly synchronized with all other browsers viewing this page.  If there's
no one around, open a second browser (or another tab/window).
</p>

<p>
After 20 minutes of inactivity, the board will be automatically cleared.
</p>

<!--This page supports options ?mode=http, ?mode=flash, ?useSub=0, ?useSub=1,
?httpStreaming=1, ?logging=1 (which can be combined).<br><br>

TODO: fix this for Opera/IE (and maybe other browsers): right now, when
you click on a circle, the circle captures the click, the event bubbles up,
and the offsetX/offsetY is wrong (they're both close to 0).  If we instead
layer a div over the drawing area, it should get the correct offsets.-->
</div>

<div id="whiteboard-controls-left"></div>
<div id="whiteboard-controls-right"></div>
<br class="clearer">
<div id="minerva-xdrframes"></div>
<div id="drawAreaContainer">
	<div id="drawAreaOverlay"></div>
	<div id="drawArea"></div>
</div>
</div>
<div id="FlashConnectorSwf"></div>
<div id="log"></div>

<script>
// Use just one preamble <script> to reduce page load time.

// We don't define anything on "window" to avoid possible IE stack limit of 12
// when calling through window.
CSRF_TOKEN = {{ dumps(bootstrap.csrf_token) }};
__XDRSetup = {
	dev: false,
	domain: {{ dumps(domain) }},
	sub1: {{ dumps(bootstrap.sub1) }},
	sub2: {{ dumps(bootstrap.sub2) }}
};
{{ bootstrap.XDRSetup_contents }}
</script>

<script src="/compiled/whiteboard.js"></script>
<script>
__whiteboard_init();
</script>

</body>
</html>
