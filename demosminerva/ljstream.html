<!doctype html>
<html>
<head>
	<meta http-equiv="charset" content="text/html; charset=utf-8">
	<title>LiveJournal stream demo{{ " (dev)" if dev_mode else "" }} | DemosMinerva</title>
	<link rel="stylesheet" type="text/css" href="{{ cacheBreakLink('/demosminerva_static/ljstream.css') }}">
</head>
<body>

<div id="demo-header">
	<div id="demo-header-text">
		<b><a href="/">DemosMinerva</a></b> | <b>LiveJournal stream, all public posts</b>

		<p>
			This is uncensored.  If you don't want to see any objectionable text or links, <a href="/">navigate away now</a>.
		</p>

		<div id="prefs">
			<label class="pref-label">
				<input type="checkbox" id="include_russian_posts" checked> Show new Russian posts
			</label>

			<label class="pref-label">
				<input type="checkbox" id="automatic_scroll" checked> Automatic scroll
			</label>
		</div>
	</div>
</div>

<div id="minerva-elements"></div>
<div id="ljstream-container"></div>
<div id="ljstream-big-empty"></div>
<div id="log"></div>

<script>
// In demosminerva_site, user specifies this with the command-line --domain option
__demo_shared_domain = {{ htmldumps(domain) }};
// document.domain must be set before JavaScript objects are created, or
// else IE will become confused and spew "Access is denied" errors.
if(__demo_shared_domain) {
	document.domain = __demo_shared_domain;
}
</script>

{% if dev_mode %}
<script src="/closure-library/closure/goog/base.js"></script>
<script src="/js_coreweb/deps.js"></script>
<script src="/js_minerva/deps.js"></script>
<script src="/js_demosminerva/deps.js"></script>
<script>
goog.require('ljstream');
</script>
{% else %}
<script src="{{ cacheBreakLink('/demosminerva_static/ljstream.js') }}"></script>
{% endif %}
<script>
__ljstream_init();
</script>

</body>
</html>
